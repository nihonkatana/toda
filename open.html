<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="robots" content="noindex,nofollow" />
    <title>掲示場ナビを開く</title>
    <style>
        :root {
            --bg: #0b0f14;
            --panel: #111826;
            --panel2: #0f1520;
            --text: #ffffff;
            --muted: rgba(255, 255, 255, .75);
            --muted2: rgba(255, 255, 255, .6);
            --accent: #3aa0ff;
            --accent2: #2f7fe0;
            --warn: #ffcc66;
            --border: rgba(255, 255, 255, .12);
            --shadow: 0 10px 30px rgba(0, 0, 0, .35);
            --radius: 20px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Hiragino Sans", "Noto Sans JP", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: radial-gradient(1200px 600px at 30% -10%, #1d2b45 0%, rgba(29, 43, 69, 0) 60%),
                radial-gradient(900px 600px at 110% 0%, #2a2a52 0%, rgba(42, 42, 82, 0) 55%),
                var(--bg);
            color: var(--text);
            line-height: 1.5;
        }

        .wrap {
            max-width: 720px;
            margin: 0 auto;
            padding: 18px 14px 26px;
        }

        .card {
            background: linear-gradient(180deg, var(--panel) 0%, var(--panel2) 100%);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 18px 16px;
        }

        .title {
            font-weight: 800;
            font-size: 26px;
            letter-spacing: .02em;
            margin: 6px 0 8px;
        }

        .subtitle {
            font-size: 18px;
            color: var(--muted);
            margin: 0 0 14px;
        }

        .bigStep {
            margin: 12px 0 14px;
            padding: 14px 14px;
            border: 1px solid var(--border);
            border-radius: 16px;
            background: rgba(255, 255, 255, .03);
        }

        .stepRow {
            display: flex;
            gap: 12px;
            align-items: flex-start;
            margin: 10px 0;
        }

        .num {
            width: 34px;
            height: 34px;
            border-radius: 999px;
            background: rgba(58, 160, 255, .16);
            border: 1px solid rgba(58, 160, 255, .35);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 18px;
            flex: 0 0 auto;
        }

        .stepText {
            font-size: 20px;
        }

        .stepText small {
            display: block;
            margin-top: 3px;
            color: var(--muted2);
            font-size: 16px;
        }

        .cta {
            display: block;
            width: 100%;
            border: 0;
            border-radius: 18px;
            padding: 16px 14px;
            font-size: 22px;
            font-weight: 800;
            color: #fff;
            background: linear-gradient(180deg, var(--accent) 0%, var(--accent2) 100%);
            box-shadow: 0 10px 24px rgba(58, 160, 255, .25);
            cursor: pointer;
            margin: 14px 0 10px;
        }

        .cta:active {
            transform: translateY(1px);
        }

        .note {
            margin-top: 10px;
            padding: 12px 12px;
            border-radius: 16px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .03);
            color: var(--muted);
            font-size: 17px;
        }

        .badge {
            display: inline-block;
            padding: 6px 10px;
            border-radius: 999px;
            font-weight: 800;
            font-size: 14px;
            letter-spacing: .02em;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .04);
            color: var(--muted);
            margin-bottom: 10px;
        }

        .warn {
            color: var(--warn);
            font-weight: 800;
        }

        .footer {
            text-align: center;
            color: rgba(255, 255, 255, .5);
            font-size: 14px;
            padding: 14px 4px 0;
        }

        .mini {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .miniBtn {
            flex: 1 1 220px;
            border-radius: 16px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .04);
            color: var(--text);
            padding: 12px 12px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
        }

        .miniBtn:active {
            transform: translateY(1px);
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="card">
            <div class="badge" id="deviceBadge">端末を判定中…</div>

            <div class="title" id="mainTitle">掲示場ナビを開きます</div>
            <div class="subtitle" id="subTitle">
                迷ったら、まずは下の青いボタンを押してください。
            </div>

            <button class="cta" id="openBtn" type="button">
                ここを押して地図を大きく表示する
            </button>

            <div class="bigStep" id="stepsBox">
                <div class="stepRow">
                    <div class="num">1</div>
                    <div class="stepText">
                        青いボタンを押す
                        <small>押すだけでOKです</small>
                    </div>
                </div>
                <div class="stepRow" id="step2">
                    <div class="num">2</div>
                    <div class="stepText" id="step2Text">
                        次の画面で「Safari」または「Chrome」を選ぶ
                        <small>※ iPhoneではアプリの一覧が出ることがあります</small>
                    </div>
                </div>
                <div class="stepRow" id="step3">
                    <div class="num">3</div>
                    <div class="stepText">
                        地図が開いたら、案内どおりに進む
                        <small>戻りたいときは「戻る」ボタンを押します</small>
                    </div>
                </div>
            </div>

            <div class="note" id="noteBox">
                <span class="warn">iPhoneの方へ：</span>
                ボタンを押すと、アプリの一覧（共有の画面）が出ることがあります。<br />
                そのときは、一覧の中から <b>Safari</b>（または <b>Chrome</b>）を選んでください。
            </div>

            <div class="mini">
                <button class="miniBtn" id="retryBtn" type="button">もう一度ひらく</button>
                <button class="miniBtn" id="helpBtn" type="button">うまくいかない時</button>
            </div>

            <div class="note hidden" id="helpBox">
                <b>うまくいかない時</b><br />
                ・一度この画面を閉じて、もう一度URLを開きなおしてください。<br />
                ・iPhoneは「Safari」を選ぶと見やすくなります。<br />
                ・Androidは「Chrome」で開くと見やすくなります。<br />
            </div>

            <div class="footer">
                ※ このページは「開くための案内ページ」です（地図は別画面で開きます）
            </div>
        </div>
    </div>

    <script>
        // ▼▼▼ ここだけ差し替え（掲示場ナビのURL） ▼▼▼
        // 例）"https://nihonkatana.github.io/xxx/index.html"
        const NAVI_URL = "./index.html";
        // ▲▲▲ ここだけ差し替え ▲▲▲

        function detectDevice() {
            const ua = navigator.userAgent || "";
            const isIOS = /iPhone|iPad|iPod/i.test(ua);
            const isAndroid = /Android/i.test(ua);
            const isLine = /Line\/|LINE/i.test(ua);
            const isInApp = isLine || /FBAN|FBAV|Instagram/i.test(ua); // ざっくり
            return { isIOS, isAndroid, isLine, isInApp, ua };
        }

        function openNavi() {
            // iPhoneのアプリ内ブラウザでは「共有シート」が出る場合があるが、それでも説明が破綻しない設計にしている
            try {
                window.open(NAVI_URL, "_blank", "noopener,noreferrer");
            } catch (e) {
                // 最終手段
                location.href = NAVI_URL;
            }
        }

        function setTextByDevice() {
            const d = detectDevice();
            const badge = document.getElementById("deviceBadge");
            const noteBox = document.getElementById("noteBox");
            const step2Text = document.getElementById("step2Text");

            if (d.isIOS) {
                badge.textContent = d.isLine ? "iPhone（LINEの中）" : "iPhone";
                // iPhoneは共有シートが出やすいので、説明をiPhone寄りに
                step2Text.innerHTML =
                    '次の画面で <b>Safari</b>（または <b>Chrome</b>）を選ぶ' +
                    '<small>※ iPhoneではアプリの一覧が出ることがあります</small>';
                noteBox.classList.remove("hidden");
            } else if (d.isAndroid) {
                badge.textContent = d.isLine ? "Android（LINEの中）" : "Android";
                // Androidはそのまま開くことも多い。説明は柔らかく。
                step2Text.innerHTML =
                    '次の画面が出たら <b>Chrome</b> を選ぶ' +
                    '<small>※ そのまま地図が開くこともあります</small>';
                noteBox.classList.add("hidden");
            } else {
                badge.textContent = "端末：不明";
                noteBox.classList.add("hidden");
            }
        }

        document.getElementById("openBtn").addEventListener("click", openNavi);
        document.getElementById("retryBtn").addEventListener("click", openNavi);
        document.getElementById("helpBtn").addEventListener("click", () => {
            document.getElementById("helpBox").classList.toggle("hidden");
        });

        setTextByDevice();
    </script>
</body>

</html>